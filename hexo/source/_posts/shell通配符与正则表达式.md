---
title: shell通配符与正则表达式
date: 2020-01-06 23:03:33
tags: shell
categories: linux
---
# 通配符（Wildcard）
bash本身没有提供正则表达式，在脚本中使用表达式的是一些命令和软件包，比如sed/awk等。
shell脚本中表达式使用的是通配符。Shell 中可以使用的通配符如下：
<!--more-->
<style>
table th:first-of-type {
	width: 100px;
}
</style>
通配符|含义|实例|
--|:--|:--
*|匹配 0 或多个字符|	a*b，a与b之间可以有任意长度的任意字符, 也可以一个也没有, 如 aabcb, axyzb, a012b, ab
?|匹配任意单个字符|	a?b，a与b之间有且只有一个字符, 可以是任意字符, 如 aab, abb, acb, a0b
[list]|	匹配 list 中的任意单个字符|	a[xyz]b，a与b之间必须也只能有一个字符, 但只能是 x 或 y 或 z, 如 axb, ayb, azb。
[!list]|	匹配除 list 中的任意单一字符|	a[!0-9]b，a与b之间必须也只能有一个字符, 但不能是阿拉伯数字, 如 axb, aab, a-b。
[c1-c2]|	匹配 c1-c2 中的任意单一字符|	a[0-9]b，匹配0与9之间其中一个字符，如 a0b, a1b... a9b
{s1,s2,...}|	匹配 s1 或 s2 (或更多)中的一个字符串|	a{abc,xyz,123}b，a与b之间只能是abc或xyz或123这三个字符串之一

# 示例
```
# shell脚本中检查输入的参数是否是一个数值
case "$1" in
""      )lines=50;;
*[!0-9]*)echo "Usage:`basename $0` number-to-left!";exit $E_WRONG_PARA;;
*       )lines=$LINES;;
esac
```
# 正则表达式
为了充分发挥shell编程的威力，你需要精通正则表达式。 在脚本编程中的一些命令和软件包普遍使用正则表达式，例如grep, expr, sed和awk.
一个正式表达式是一个字符串.字符串里的字符被称为元字符，它们可以表示了比它们字面上看起来的意思更丰富的含义。正则表达式是一个字符或/和元字符组合成的字符集，它们匹配(或指定)一个模式。
Shell 中可以使用的通配符如下：

正则表达式|含义|实例|
--|:--|:--
*|匹配前一个字符的任意多次(包括零次)|"1133*"匹配11 + 一个或更多的3 + 可能的其他字符: 113, 1133,111312,等等。
.|匹配除了新行符之外的任意一个字符|"13." 匹配13 + 至少一个任意字符(包括空格): 1133, 11333, 但不匹配 13 (因为少了附加的至少一个任意字符)。
^|匹配一行的开头，但依赖于上下文环境，可能在正则表达式中表示否定一个字符集的意思。|"[^b-d]" 匹配除了从b到d范围内所有的字符. 这是正则表达式中反转意思或取否的一个例子。(就好像在别的情形中!字符所扮演的角色).
$|在正则表达式中匹配行尾|"^$" 匹配空行。
[...]|在正则表达式中表示匹配括号中的一个字符。|"[xyz]" 匹配字符x, y, 或z."[c-n]" 匹配从字符c到n之间的任意一个字符。"[B-Pk-y]" 匹配从B到P 或从k到y的任意一个字符。"[a-z0-9]" 匹配任意小写字母或数字。多个方括号字符集组合使用可以匹配一般的单词和数字模式。"[Yy][Ee][Ss]" 匹配yes, Yes, YES, yEs, 等等。 "[0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9][0-9][0-9]" 匹配社会安全码(Social Security number)。
\ |转义(escapes) 一个特殊的字符，使这个字符表示原来字面上的意思。|"\$"表示了原来的字面意思"$",而不是在正则表达式中表达的匹配行尾的意思。同样，"\\"也被解释成了字面上的意思"\\"。
\\<...\\>|用于表示单词的边界。尖角号必须被转义，因为不这样做的话它们就表示单纯的字面意思而已.|"\\<the\\>" 匹配单词"the",但不匹配"them", "there", "other", 等等。

参考文献：
https://www.jianshu.com/p/25f3d0cd5fdc
http://manual.51yip.com/shell
